<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo+Github 搭建博客</title>
    <url>/2021/11/29/Hexo+Github-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>使用<code>Hexo</code>搭建博客，配置<code>Next</code>主题，并搭配<code>Github</code>实现自动构建与部署。</p>
<h2 id="搭建博客"><a href="#搭建博客" class="headerlink" title="搭建博客"></a>搭建博客</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>在安装好的了<code>Node</code>环境中，运行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo init blog</span><br><span class="line">cd blog &amp;&amp; npm install --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<h3 id="运行博客"><a href="#运行博客" class="headerlink" title="运行博客"></a>运行博客</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>访问<a href="http://localhost:4000/"><code>http://localhost:4000</code></a> 就可以看到默认博客页面了</p>
<h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd blog</span><br><span class="line">git clone https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>

<h3 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h3><p>修改站点配置文件 <code>_config.yml</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure>

<h2 id="自动部署"><a href="#自动部署" class="headerlink" title="自动部署"></a>自动部署</h2><h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><p>在<code>Github</code>上新建仓库<code>xxx.github.io</code>，其中<code>xxx</code>为<code>Github</code>用户名。</p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>在项目根目录添加文件<code>.travis.yml</code>文件，将代码推送到<code>main</code>分支，并开通对应的<code>travis ci</code>功能。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sudo:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attr">node_js:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="number">14</span></span><br><span class="line"><span class="attr">cache:</span> <span class="string">npm</span></span><br><span class="line"><span class="attr">branches:</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">main</span> <span class="comment"># build master branch only</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">generate</span> <span class="comment"># generate static files</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">provider:</span> <span class="string">pages</span></span><br><span class="line">  <span class="attr">skip-cleanup:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">github-token:</span> <span class="string">$GH_TOKEN</span></span><br><span class="line">  <span class="attr">keep-history:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">on:</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line">  <span class="attr">local-dir:</span> <span class="string">public</span></span><br></pre></td></tr></table></figure>
<p>在<code>Github Pages</code>皮配置页中，将<code>Source</code>改为<code>gh-pages</code>分支</p>
<p><img src="/images/image-20220113194914673.png" alt="image-20220113194914673"></p>
<p>等待一段时间，访问<code>https://xxx.github.io/</code>就可以看到发布后的博客了</p>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>5.0+版本 的<code>hexo</code>，需要手动安装<code>swig</code>，才能使<code>Next</code>主题被正确的渲染</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i -S hexo-renderer-swig</span><br></pre></td></tr></table></figure>



]]></content>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginx 配置 HTTPS</title>
    <url>/2022/01/23/Nginx-%E9%85%8D%E7%BD%AE-HTTPS/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS  </p>
<p>Nginx 1.14.0</p>
</blockquote>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>上传<code>SSL</code>证书到服务器，并修改配置文件<code>/etc/nginx/nginx.conf</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">http &#123;</span><br><span class="line"><span class="meta">  #</span><span class="bash"> http -&gt; https</span></span><br><span class="line">  server &#123;</span><br><span class="line">		listen 80;</span><br><span class="line">		server_name www.rainlf.com;</span><br><span class="line">		return 301 https://$server_name$request_uri;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="meta">	#</span><span class="bash"> https configuration</span></span><br><span class="line">	server &#123;</span><br><span class="line">		listen 443 ssl;</span><br><span class="line">		server_name www.rainlf.com;</span><br><span class="line"></span><br><span class="line">      # ssl证书地址</span><br><span class="line">      ssl_certificate     /etc/nginx/ssl/ssl_rainlf_com.crt;  # pem/crt文件的路径</span><br><span class="line">      ssl_certificate_key  /etc/nginx/ssl/ssl_rainlf_com.key; # key文件的路径</span><br><span class="line"></span><br><span class="line">      # ssl验证相关配置</span><br><span class="line">      ssl_session_timeout  5m;    #缓存有效期</span><br><span class="line">      ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;    #加密算法</span><br><span class="line">      ssl_protocols TLSv1 TLSv1.1 TLSv1.2;    #安全链接可选的加密协议</span><br><span class="line">      ssl_prefer_server_ciphers on;   #使用服务器端的首选算法</span><br><span class="line"></span><br><span class="line">		root /var/www/html;</span><br><span class="line">		index index.html;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 docker</title>
    <url>/2022/02/10/Ubuntu-20-04-%E5%AE%89%E8%A3%85-docker/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>Docker 20.10.12</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p><code>Ubuntu</code>安装<code>docker</code>运行时环境，参考<a href="https://docs.docker.com/engine/install/ubuntu/">官方文档</a></p>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>删除旧版本</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure>

<p>配置仓库</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install -y ca-certificates curl gnupg lsb-release</span><br><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span><br><span class="line">echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure>

<p>安装<code>docker</code>引擎</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<p>启动服务</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo service docker start</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 jdk8</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85%20jdk8/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>JDK1.8</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>安装 JDK8，并设置相关环境变量，参考 <a href="https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/">Oracle官方文档</a></p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>在 <a href="https://www.oracle.com/java/technologies/downloads/#java8">Oracle官方地址</a> 下载 jdk release 文件，解压文件至安装目录</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p /usr/java/</span><br><span class="line">sudo tar xvf jdk-8u301-linux-x64.tar.gz -C /usr/java/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>编辑 <code>~/.zshrc</code> （bash shell 则编辑 <code>~/.bashrc</code>）,添加内容</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export JAVA_HOME=/usr/java/jdk1.8.0_301</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 es</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-es/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>Elsticsearch 7.15.0</p>
<p>Kibana 7.15.0</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>安装 Elasticsearch + Kibana，配置密码访问</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><blockquote>
<p>在 <a href="https://www.elastic.co/downloads/">官网</a> 下载 Elasticsearch 和 Kibana，解压至安装目录</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo tar xvf ~/elasticsearch-7.15.0-linux-x86_64.tar.gz -C /opt/app/</span><br><span class="line">sudo tar xvf ~/kibana-7.15.0-linux-x86_64.tar.gz -C /opt/app/</span><br></pre></td></tr></table></figure>

<h3 id="Elasticsearch-配置"><a href="#Elasticsearch-配置" class="headerlink" title="Elasticsearch 配置"></a>Elasticsearch 配置</h3><blockquote>
<p>修改 <code>config/elasticsearch.yml</code>，添加内容</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">network.host:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line"><span class="attr">xpack.security.enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">xpack.license.self_generated.type:</span> <span class="string">basic</span></span><br><span class="line"><span class="attr">xpack.security.transport.ssl.enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">discovery.type:</span> <span class="string">single-node</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>启动服务（非 root 用户）</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./bin/elasticsearch -d</span><br></pre></td></tr></table></figure>

<blockquote>
<p>设置密码</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 生成 keystore</span></span></span><br><span class="line">./bin/elasticsearch-keystore create</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 设置密码</span></span></span><br><span class="line">./bin/elasticsearch-setup-passwords interactive</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 用户说明</span></span></span><br><span class="line">elastic: 超级用户，拥有存取全部 cluster 的权限</span><br><span class="line">apm_system: 一般用户，提供给 kibana 使用，用来和 elasticsearch 进行通信</span><br><span class="line">kibana_system: 一般用户，提供给 logstash 使用，用来向 elasticsearch 写入数据</span><br><span class="line">logstash_system: 一般用户，用于不同类型的 beat 存储和监控 elasticsearch</span><br><span class="line">beats_system: 一般用户，用于 APM Server 存储和监控 elasticsearch</span><br><span class="line">remote_monitoring_user: 一般用户，用于 Metricbeat 监控 elasticsearch</span><br></pre></td></tr></table></figure>

<h3 id="Kibana-配置"><a href="#Kibana-配置" class="headerlink" title="Kibana 配置"></a>Kibana 配置</h3><blockquote>
<p>修改 <code>config/kibana.yml</code></p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server.host:</span> <span class="string">&quot;0.0.0.0&quot;</span></span><br><span class="line"><span class="attr">elasticsearch.hosts:</span> [<span class="string">&quot;http://localhost:9200&quot;</span>]</span><br><span class="line"><span class="attr">elasticsearch.username:</span> <span class="string">&quot;kibana_system&quot;</span></span><br><span class="line"><span class="attr">elasticsearch.password:</span> <span class="string">&quot;guanshantech&quot;</span></span><br><span class="line"><span class="attr">i18n.locale:</span> <span class="string">&quot;zh-CN&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>启动服务（非 root 用户）</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./bin/kibana</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>es</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 maven</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-maven/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>Maven 3.8.3</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>安装 Maven，并设置相关环境变量，参考 <a href="https://maven.apache.org/settings.html">官方文档</a></p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>在 <a href="https://www.oracle.com/java/technologies/downloads/#java8">Oracle官方地址</a> 下载 jdk release 文件，解压文件至安装目录</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p /usr/maven/</span><br><span class="line">sudo tar xvf apache-maven-3.8.3-bin.tar.gz -C /usr/maven/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>编辑 <code>~/.zshrc</code> （bash shell 则编辑 <code>~/.bashrc</code>）,添加内容</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export MAVEN_HOME=/usr/maven/apache-maven-3.8.3</span><br><span class="line">export PATH=$MAVEN_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 mongo</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-mongo/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>MongDB 5.0.3</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>使用单机搭建 mongodb repliceset 三节点伪集群</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>安装 mongodb，参考<a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/">官方文档</a></p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 导入公钥</span></span></span><br><span class="line">wget -qO - https://www.mongodb.org/static/pgp/server-5.0.asc | sudo apt-key add -</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 新建 apt mongodb 源</span></span></span><br><span class="line">echo &quot;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/5.0 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 官方源速度过慢，可使用阿里云 apt mongdb 源</span></span></span><br><span class="line">echo &quot;deb [ arch=amd64,arm64 ] https://mirrors.aliyun.com/mongodb/apt/ubuntu focal/mongodb-org/5.0 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 更新 apt 源</span></span></span><br><span class="line">sudo apt update</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 安装 mongodb</span></span></span><br><span class="line">sudo apt install -y mongodb-org</span><br></pre></td></tr></table></figure>

<blockquote>
<p>创建目录</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p /opt/app/mongodb/&#123;db1,db2,db3&#125;/&#123;data,etc,log&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> db1: /opt/app/mongodb/db1/etc/mongodb.conf</span></span><br><span class="line">dbpath=/opt/app/mongodb/db1/data</span><br><span class="line">logpath=/opt/app/mongodb/db1/log/mongodb.log</span><br><span class="line">logappend=true</span><br><span class="line">journal=true</span><br><span class="line">bind_ip=0.0.0.0</span><br><span class="line">port=27017</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> db2: /opt/app/mongodb/db2/etc/mongodb.conf</span></span><br><span class="line">dbpath=/opt/app/mongodb/db2/data</span><br><span class="line">logpath=/opt/app/mongodb/db2/log/mongodb.log</span><br><span class="line">logappend=true</span><br><span class="line">journal=true</span><br><span class="line">bind_ip=0.0.0.0</span><br><span class="line">port=27018</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> db3: /opt/app/mongodb/db3/etc/mongodb.conf</span></span><br><span class="line">dbpath=/opt/app/mongodb/db3/data</span><br><span class="line">logpath=/opt/app/mongodb/db3/log/mongodb.log</span><br><span class="line">logappend=true</span><br><span class="line">journal=true</span><br><span class="line">bind_ip=0.0.0.0</span><br><span class="line">port=27019</span><br></pre></td></tr></table></figure>

<blockquote>
<p>启动服务</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mongod -f /opt/app/mongodb/db1/etc/mongodb.conf --replSet replset</span><br><span class="line">sudo mongod -f /opt/app/mongodb/db2/etc/mongodb.conf --replSet replset</span><br><span class="line">sudo mongod -f /opt/app/mongodb/db3/etc/mongodb.conf --replSet replset</span><br></pre></td></tr></table></figure>

<blockquote>
<p>登陆其中一个节点</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mongo --host localhost --port 27017</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置副本集</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 配置</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> config = &#123;_id: <span class="string">&#x27;replset&#x27;</span>, members: [&#123;_id: 0, host: <span class="string">&#x27;localhost:27017&#x27;</span>&#125;,&#123;_id: 1, host: <span class="string">&#x27;localhost:27018&#x27;</span>&#125;,&#123;_id: 2, host:<span class="string">&#x27;localhost:27019&#x27;</span>&#125;]&#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> rs.initiate(config)</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 查看</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> rs.status()</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置认证</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 创建 admin 库的 root 用户</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> use admin</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> db.createUser(&#123;user: <span class="string">&#x27;root&#x27;</span>, <span class="built_in">pwd</span>: <span class="string">&#x27;123456&#x27;</span>, roles:[&#123;role: <span class="string">&#x27;userAdminAnyDatabase&#x27;</span>, db: <span class="string">&#x27;admin&#x27;</span>&#125;, &#123;role: <span class="string">&#x27;readWriteAnyDatabase&#x27;</span>, db:<span class="string">&#x27;admin&#x27;</span>, &#123;role: <span class="string">&#x27;clusterAdmin&#x27;</span>, db:<span class="string">&#x27;admin&#x27;</span>&#125;&#125;]&#125;)</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 创建 keyfile</span></span></span><br><span class="line">echo `openssl rand -base64 756` | sudo tee /opt/app/mongodb/keyfile</span><br><span class="line">sudo chmod 400 /opt/app/mongodb/keyfile</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 配置文件中添加参数，并重启服务</span></span></span><br><span class="line">auth=true</span><br><span class="line">keyfile=/opt/app/mongodb/keyfile</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>mongodb</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 mysql</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-mysql/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>MySQL  v5.7.35</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>安装 MySQL Server，配置密码，并允许外网访问</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>安装 mysql-server</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install -y mysql-server</span><br></pre></td></tr></table></figure>

<blockquote>
<p>初始化配置，配置密码，询问项选 n，最后选 y 刷新权限</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mysql_secure_installation</span><br></pre></td></tr></table></figure>

<blockquote>
<p>允许 root 远程访问</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 登陆 mysql</span></span></span><br><span class="line">sudo mysql -uroot -p</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 配置权限</span></span></span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO root@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27; WITH GRANT OPTION;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 刷新权限</span></span></span><br><span class="line">FLUSH PRIVILEGES;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 查看权限</span></span></span><br><span class="line">SELECT User, Host, HEX(authentication_string) FROM mysql.user;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 修改密码</span></span></span><br><span class="line">set password for root@localhost = password(&#x27;123456&#x27;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改常用配置，在 <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>文件中添加</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set = utf8mb4</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set = utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">character-set-client-handshake = FALSE</span><br><span class="line">character-set-server = utf8mb4</span><br><span class="line">collation-server = utf8mb4_unicode_ci</span><br><span class="line">init_connect = &#x27;SET NAMES utf8mb4&#x27;</span><br><span class="line">bind-address = 0.0.0.0</span><br><span class="line"># 取消大小写敏感</span><br><span class="line">lower_case_table_names = 1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>查看常用配置</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; show variables where variable_name like &#x27;character_set_%&#x27; or variable_name like &#x27;collation%&#x27;;</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name            | Value                      |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client     | utf8mb4                    |</span><br><span class="line">| character_set_connection | utf8mb4                    |</span><br><span class="line">| character_set_database   | utf8mb4                    |</span><br><span class="line">| character_set_filesystem | binary                     |</span><br><span class="line">| character_set_results    | utf8mb4                    |</span><br><span class="line">| character_set_server     | utf8mb4                    |</span><br><span class="line">| character_set_system     | utf8                       |</span><br><span class="line">| character_sets_dir       | /usr/share/mysql/charsets/ |</span><br><span class="line">| collation_connection     | utf8mb4_general_ci         |</span><br><span class="line">| collation_database       | utf8mb4_general_ci         |</span><br><span class="line">| collation_server         | utf8mb4_general_ci         |</span><br><span class="line">+--------------------------+----------------------------+</span><br></pre></td></tr></table></figure>

<blockquote>
<p>重启服务</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 nacos</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-nacos/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>Nacos 2.0.3</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>安装 Nacos 服务器，修改默认密码，配置数据库存储，以集群模式运行，参考 <a href="https://nacos.io/zh-cn/docs/quick-start.html">官方文档</a></p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><blockquote>
<p>创建 nacos 用户，授权使用 nacos 数据库</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE nacos;</span><br><span class="line">CREATE USER &#x27;nacos&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;;</span><br><span class="line">GRANT PRIVILEGES ON nacos.* TO &#x27;nacos&#x27;@&#x27;%&#x27;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>初始化数据库，使用 <code>conf/nacos-mysql.sql</code></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">use nacos;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h3><blockquote>
<p>在 <a href="https://github.com/alibaba/nacos/releases">Github Release</a> 下载安装文件，解压至各个应用目录</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo tar xvf ~/nacos-server-2.0.3.tar.gz -C /opt/app/nacos/ &amp;&amp; sudo mv /opt/app/nacos/nacos /opt/app/nacos/nacos-1</span><br><span class="line">sudo tar xvf ~/nacos-server-2.0.3.tar.gz -C /opt/app/nacos/ &amp;&amp; sudo mv /opt/app/nacos/nacos /opt/app/nacos/nacos-2</span><br><span class="line">sudo tar xvf ~/nacos-server-2.0.3.tar.gz -C /opt/app/nacos/ &amp;&amp; sudo mv /opt/app/nacos/nacos /opt/app/nacos/nacos-3</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改配置文件 <code>conf/cluster.conf</code></p>
</blockquote>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">localhost</span>:<span class="string">8848</span></span><br><span class="line"><span class="attr">localhost</span>:<span class="string">8858</span></span><br><span class="line"><span class="attr">localhost</span>:<span class="string">8868</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改配置文件 <code>conf/application.properties</code></p>
</blockquote>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># server.port=8848/8858/8868</span></span><br><span class="line"><span class="meta">db.num</span>=<span class="string">1</span></span><br><span class="line"><span class="meta">db.url.0</span>=<span class="string">jdbc:mysql://localhost:3306/nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true</span></span><br><span class="line"><span class="meta">db.user</span>=<span class="string">nacos</span></span><br><span class="line"><span class="meta">db.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>启动服务</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd /opt/app/nacos/nacos-1/ &amp;&amp; sudo env PATH=$PATH ./bin/startup.sh</span><br><span class="line">cd /opt/app/nacos/nacos-2/ &amp;&amp; sudo env PATH=$PATH ./bin/startup.sh</span><br><span class="line">cd /opt/app/nacos/nacos-1/ &amp;&amp; sudo env PATH=$PATH ./bin/startup.sh</span><br></pre></td></tr></table></figure>



<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><blockquote>
<p>服务启动莫名遇到 <code>bind failed</code> 问题，原因是 nacos 2.0 后默认占用了4个端口：<br>server.port: 默认8848<br>raft port: ${server.port} - 1000<br>grpc port: ${server.port} + 1000<br>grpc port for server: ${server.port} + 1001<br>会引起意想不到的端口占用问题</p>
</blockquote>
]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>nacos</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 nginx</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-nginx/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>Nginx 1.14.0</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>安装 Nginx Web 服务器</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>安装</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install -y nginx</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置信息</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>

<blockquote>
<p>默认静态资源目录</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/var/www/html/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>启动</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">service nginx start</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>nginx</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 nvm</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-nvm/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>日常会遇到兼顾 nodejs 多版本的问题，使用 <a href="https://github.com/nvm-sh/nvm">nvm</a> 可以在本地切换 nodejs 版本的工具，来应对不同应用强依赖不同 nodejs 版本的问题</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>安装 nvm</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash</span><br></pre></td></tr></table></figure>

<blockquote>
<p>查看可用版本</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm ls-remote</span><br></pre></td></tr></table></figure>
<blockquote>
<p>安装指定版本 node</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm install 14.7.0</span><br></pre></td></tr></table></figure>

<blockquote>
<p>查看本地版本</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm ls</span><br></pre></td></tr></table></figure>

<blockquote>
<p>选择版本</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm use &lt;version&gt;</span><br></pre></td></tr></table></figure>



<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><blockquote>
<p>安装时可能会遇到 github 访问过慢的问题，也可以将上述安装文件先保存至本地，手动指定镜像仓库来安装</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">NVM_INSTALL_GITHUB_REPO=https://codechina.csdn.net/mirrors/nvm-sh/nvm.git ./install.sh</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 redis</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-redis/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
<p>Redis 4.0.9</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>安装 Redis Server，配置密码，并允许外网访问</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>安装 redis-server</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install -y redis-server</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/redis/redis.conf</span><br></pre></td></tr></table></figure>

<blockquote>
<p>找到对应行，修改内容为</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bind 0.0.0.0 ::1</span><br><span class="line">protected-mode no</span><br><span class="line">requirepass 123456</span><br></pre></td></tr></table></figure>

<blockquote>
<p>重启服务</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo service redis-server restart</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 安装 zsh</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%AE%89%E8%A3%85-zsh/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>zsh 是 Linux 下一款优秀的终端工具，搭配 <a href="https://ohmyz.sh/">oh-my-zsh</a> 食用更香</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>安装 zsh</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install -y zsh</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置 zsh 为默认 shell</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>

<blockquote>
<p>安装 oh-my-zsh</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span><br></pre></td></tr></table></figure>



<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><blockquote>
<p>安装时可能会遇到 github 访问过慢的问题，也可以将上述安装文件先保存至本地，手动指定镜像仓库来安装</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">REMOTE=https://codechina.csdn.net/mirrors/ohmyzsh/ohmyzsh.git ./install.sh</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 常用工具</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>新做的系统可能会缺失很多常用的环境和工具，这里整理出来方便统一安装</p>
</blockquote>
<h2 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 网络工具</span></span></span><br><span class="line">sudo apt install -y net-tools</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Git</span></span></span><br><span class="line">sudo apt install -y git</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># NodeJs:16 (需要多版本则使用 nvm 替代)</span></span></span><br><span class="line">curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -</span><br><span class="line">sudo apt install -y nodejs</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 小玩具</span></span></span><br><span class="line">sudo apt install -y cmatrix</span><br><span class="line">sudo apt install -y sl</span><br></pre></td></tr></table></figure>



<h2 id="初始化环境"><a href="#初始化环境" class="headerlink" title="初始化环境"></a>初始化环境</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 关闭交换分区</span></span></span><br><span class="line">sudo swapoff -a</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 常用镜像源</title>
    <url>/2021/11/29/Ubuntu-20.04-%E5%B8%B8%E7%94%A8%E9%95%9C%E5%83%8F%E6%BA%90/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="APT-镜像源"><a href="#APT-镜像源" class="headerlink" title="APT 镜像源"></a>APT 镜像源</h2><h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><blockquote>
<p>备份配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改内容为</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<blockquote>
<p>执行更新</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>



<h2 id="NPM-镜像源"><a href="#NPM-镜像源" class="headerlink" title="NPM 镜像源"></a>NPM 镜像源</h2><blockquote>
<p>编辑配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi ~/.npmrc</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改内容为</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>apt</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 用户管理</title>
    <url>/2021/11/29/Ubuntu-20.04-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>Linux 默认提供 root 用户，但日常使用时推荐使用拥有 sudo 权限的普通用户</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>新建用户，指定工作目录，指定 Shell</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">useradd -d /home/admin -m -s /bin/bash admin</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置密码</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">passwd admin</span><br></pre></td></tr></table></figure>

<blockquote>
<p>删除用户时执行（会同时删除主目录）</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">userdel admin</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 配置 git</title>
    <url>/2021/11/29/Ubuntu-20.04-%E9%85%8D%E7%BD%AE-git/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>配置常用的 git 命令缩写</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>编辑配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vi ~/.gitconfig</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改内容为</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[user]</span><br><span class="line">        name = Rain</span><br><span class="line">        email = iheyu22@163.com</span><br><span class="line">[credential]</span><br><span class="line">        helper = cache --timeout=8640000</span><br><span class="line">#       helper = cache --timeout=600</span><br><span class="line">[push]</span><br><span class="line">        default = simple</span><br><span class="line">[color]</span><br><span class="line">        ui = true</span><br><span class="line">        status = auto</span><br><span class="line">        branch = auto</span><br><span class="line">[alias]</span><br><span class="line">        st = status -s</span><br><span class="line">        br = branch</span><br><span class="line">        ci = commit</span><br><span class="line">        co = checkout</span><br><span class="line">        lg = log --color --graph --pretty=format:&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27; --abbrev-commit</span><br><span class="line">[filter &quot;lfs&quot;]</span><br><span class="line">        required = true</span><br><span class="line">        clean = git-lfs clean -- %f</span><br><span class="line">        smudge = git-lfs smudge -- %f</span><br><span class="line">        process = git-lfs filter-process</span><br><span class="line">[difftool &quot;sourcetree&quot;]</span><br><span class="line">        cmd = opendiff \&quot;$LOCAL\&quot; \&quot;$REMOTE\&quot;</span><br><span class="line">        path =</span><br><span class="line">[mergetool &quot;sourcetree&quot;]</span><br><span class="line">        cmd = /Applications/Sourcetree.app/Contents/Resources/opendiff-w.sh \&quot;$LOCAL\&quot; \&quot;$REMOTE\&quot; -ancestor \&quot;$BASE\&quot; -merge \&quot;$MERGED\&quot;</span><br><span class="line">        trustExitCode = true</span><br><span class="line">[core]</span><br><span class="line">        excludesFile = ~/.gitignore</span><br><span class="line">        quotepath = false</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 配置 sudo</title>
    <url>/2021/11/29/Ubuntu-20.04-%E9%85%8D%E7%BD%AE-sudo/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>切记使用 <code>sudo visudo</code> 命令!<br>取消 Linux 普通用户在使用 sudo 命令时，要求输入密码的步骤<br>取消 sudo 命令对 env 的重置<br>指定 sudo 命令执行时的安全路径</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>修改配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo visudo</span><br></pre></td></tr></table></figure>

<blockquote>
<p>编辑内容</p>
</blockquote>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 取消 env 重置</span></span><br><span class="line"><span class="attr">Defaults</span>        <span class="string">!env_reset</span></span><br><span class="line"><span class="comment"># 指定安全 PATH</span></span><br><span class="line"><span class="attr">Defaults</span> <span class="string">secure_path=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin&quot;</span></span><br><span class="line"><span class="comment"># 取消输入密码，在最后一行添加</span></span><br><span class="line"><span class="attr">admin</span>  <span class="string">ALL=(ALL:ALL) NOPASSWD:ALL</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>保存退出，visudo 默认使用 nano 编辑器</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">执行 ctrl+o</span><br><span class="line">提示 File Name to Write: /etc/sudoers.tmp</span><br><span class="line">执行 enter</span><br><span class="line">执行 ctrl+x</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 配置 vim</title>
    <url>/2021/11/29/Ubuntu-20.04-%E9%85%8D%E7%BD%AE-vim/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>vim 是 Linux 下一款非常强大的编辑器，支持丰富的编辑功能，这里记录下自己的常用配置</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>修改配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vi ~/.vimrc</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改内容为</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">syntax enable</span><br><span class="line">set nu</span><br><span class="line">set syntax=on</span><br><span class="line">set showcmd</span><br><span class="line">set autoread</span><br><span class="line">set nobackup</span><br><span class="line">set ruler</span><br><span class="line">set cursorline</span><br><span class="line">set magic</span><br><span class="line">set noeb</span><br><span class="line">set smartindent</span><br><span class="line">set autoindent</span><br><span class="line">set shiftwidth=4</span><br><span class="line">set tabstop=4</span><br><span class="line">set mouse=a</span><br><span class="line">set hlsearch</span><br><span class="line">filetype on</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 配置 ssh 超时时间</title>
    <url>/2021/11/29/Ubuntu-20.04-%E9%85%8D%E7%BD%AEssh%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>取消 ssh 连接的超时时间，解决连接一段时间后无法输入的问题，服务端和客户端任改其一即可</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><blockquote>
<p>编辑配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改内容</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LoginGraceTime 0</span><br><span class="line">ClientAliveInterval 30</span><br><span class="line">ClientAliveCountMax 6</span><br></pre></td></tr></table></figure>

<blockquote>
<p>重启服务</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo service sshd restart</span><br></pre></td></tr></table></figure>



<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><blockquote>
<p>编辑配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/ssh/ssh_config</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改内容</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ServerAliveInterval 30</span><br><span class="line">ServerAliveCountMax 6</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 配置静态 ip</title>
    <url>/2021/11/29/Ubuntu-20.04-%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81ip/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>Linux 默认由 DHCP 协议从路由获取动态 IP 地址，在某些场景下我们需要将其设置为静态 IP</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>编辑配置文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/network/interfaces</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改内容为</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br><span class="line"></span><br><span class="line">auto eth0</span><br><span class="line">iface eth0</span><br><span class="line">address 172.17.5.120</span><br><span class="line">netmask 255.255.255.240</span><br><span class="line">gateway 172.17.5.113</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Ununtu 20.04 安装 postgresql</title>
    <url>/2022/02/08/Ununtu-20-04-%E5%AE%89%E8%A3%85-postgresql/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Ubuntu 20.04 LTS  </p>
<p>PostgresQL 14.1</p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>安装<code>postgresql</code>服务器，配置远程访问。</p>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>安装<code>postgresql</code>，参考 <a href="https://www.postgresql.org/download/linux/ubuntu/">https://www.postgresql.org/download/linux/ubuntu/</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo sh -c &#x27;echo &quot;deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main&quot; &gt; /etc/apt/sources.list.d/pgdg.list&#x27;</span><br><span class="line">wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install postgresql</span><br></pre></td></tr></table></figure>

<p>查看版本</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo -u postgres psql -c &quot;select version()&quot;;</span><br></pre></td></tr></table></figure>

<p>配置角色（仅仅超级用户和拥有<code>CREATEROLE</code>权限的角色可以创建新角色）</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># 登陆db</span><br><span class="line">sudo <span class="operator">-</span>u postgres psql</span><br><span class="line"># 创建角色</span><br><span class="line"><span class="keyword">create</span> role role_root login password &quot;123456&quot;;</span><br><span class="line"># 创建数据库</span><br><span class="line"><span class="keyword">create</span> database test_db;</span><br><span class="line"># 修改用户密码，并授权用户操作数据库</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> database test_db <span class="keyword">to</span> role_root;</span><br><span class="line"># 列举角色</span><br><span class="line">\dg</span><br><span class="line"># 列举数据库</span><br><span class="line">\l</span><br><span class="line"># 列举Schema</span><br><span class="line">\dn</span><br><span class="line"># 列举表</span><br><span class="line">\dt</span><br><span class="line"># 退出</span><br><span class="line">\q</span><br></pre></td></tr></table></figure>

<p>配置远程访问，修改<code> /etc/postgresql/14/main/postgresql.conf</code></p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">listen_addresses</span> = <span class="string">&#x27;*&#x27;</span></span><br></pre></td></tr></table></figure>

<p>修改<code>/etc/postgresql/14/main/pg_hba.conf</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">local</span>   all             all                                     peer</span></span><br><span class="line">local   all             all                                     md5</span><br></pre></td></tr></table></figure>

<p>重启服务</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo service postgresql restart</span><br></pre></td></tr></table></figure>

<p>连接数据库</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">psql -U role_root -d test_db -W</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ubuntu</tag>
        <tag>postgresql</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 删除 hiberfil.sys 文件</title>
    <url>/2022/01/29/Windows-%E5%88%A0%E9%99%A4-hiberfil-sys-%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p><code>hiberfil.sys</code>为<code>Windows</code>的系统休眠文件，如果系统磁盘紧张，可考虑禁用休眠功能以取消该文件。</p>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><p>以管理员权限运行<code>PowerShell</code>，执行</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">powercfg <span class="literal">-h</span> off</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 启动 Postman 后灰屏</title>
    <url>/2022/01/14/Windows-%E5%90%AF%E5%8A%A8-Postman-%E5%90%8E%E7%81%B0%E5%B1%8F/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Windows 10 Pro</p>
<p>Postman v9.0.7 </p>
</blockquote>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>解决 Postman 使用或启动后，突然出现灰屏的问题</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><blockquote>
<p>添加系统环境变量</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POSTMAN_DISABLE_GPU = true</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 常用镜像源</title>
    <url>/2022/01/27/Windows-%E5%B8%B8%E7%94%A8%E9%95%9C%E5%83%8F%E6%BA%90/</url>
    <content><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<p>Windows 10 Pro</p>
</blockquote>
<h2 id="Pip-镜像源"><a href="#Pip-镜像源" class="headerlink" title="Pip 镜像源"></a>Pip 镜像源</h2><p>在<code>%APPDATA%</code>目录下新建<code>\pip\pip.ini\</code>，并编辑内容</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">[global]</span></span><br><span class="line"><span class="attr">timeout</span> = <span class="string">6000</span></span><br><span class="line"><span class="meta">trusted-host</span>=<span class="string">mirrors.aliyun.com</span></span><br><span class="line"><span class="meta">index-url</span>=<span class="string">http://mirrors.aliyun.com/pypi/simple/</span></span><br></pre></td></tr></table></figure>

<p>查看</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip config get global.index-url</span><br></pre></td></tr></table></figure>



<h2 id="Yarn-Npm-镜像源"><a href="#Yarn-Npm-镜像源" class="headerlink" title="Yarn/Npm 镜像源"></a>Yarn/Npm 镜像源</h2><p>配置</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yarn config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>查看</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yarn config get registry</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 重启 Linux 子系统</title>
    <url>/2022/01/14/Windows-%E9%87%8D%E5%90%AF-Liunx-%E5%AD%90%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote>
<p>Windows 子系统（WSL）是基于 LxssManager 服务运行的，只需将 LxssManager 重启即可</p>
</blockquote>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><blockquote>
<p>已管理员权限运行 cmd，执行</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 停止 LxssManager 服务</span><br><span class="line">net stop LxssManager</span><br><span class="line"></span><br><span class="line"># 启动 LxssManager 服务</span><br><span class="line">net start LxssManager</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>博客页面添加 Github 标识角</title>
    <url>/2022/01/17/%E5%8D%9A%E5%AE%A2%E9%A1%B5%E9%9D%A2%E6%B7%BB%E5%8A%A0-Github-%E6%A0%87%E8%AF%86/</url>
    <content><![CDATA[<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>在下面网站用选择自己喜欢的图标：</p>
<blockquote>
<p><a href="https://github.blog/2008-12-19-github-ribbons/">https://github.blog/2008-12-19-github-ribbons/</a>  </p>
<p><a href="https://tholman.com/github-corners/">https://tholman.com/github-corners/</a></p>
</blockquote>
<p>修改 <code>/themes/next/layout/_layout.swig</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;headband&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 刚刚复制的代码 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">&quot;http://schema.org/WPHeader&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header-inner&quot;</span>&gt;</span>&#123;% include &#x27;_partials/header/index.swig&#x27; %&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title>站点隐式 URL 跳转</title>
    <url>/2022/01/23/%E7%AB%99%E7%82%B9%E9%9A%90%E5%BC%8F-URL-%E8%B7%B3%E8%BD%AC/</url>
    <content><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>当我们需要通过自己的域名连接到外部的站点时，<code>DNS</code> 解析的隐式 <code>URL</code>跳转是一个较好的选择。但由于使用了默认的 <code>iframe</code>代码文本，无法自定义站点的标题和图标，此时可以使用自定义的站点文件了实现效果。</p>
<h2 id="站点文件"><a href="#站点文件" class="headerlink" title="站点文件"></a>站点文件</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>I am site title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--网页标题左侧显示--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;site.ico&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/x-icon&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--收藏夹显示图标--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;shortcut icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;site.ico&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/x-icon&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frameset</span> <span class="attr">rows</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;https://www.rainlf.com&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noframes</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.rainlf.com&quot;</span>&gt;</span>Click here<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">noframes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>site</tag>
      </tags>
  </entry>
</search>
